<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<link rel="stylesheet" type="text/css" href="/console.css" />
</h:head>
<h:body>
	<script type="text/javascript" src="/console.js" />
	<h:inputHidden id="resultadoParam"
		rendered="${not empty param.sumario ? true : false}"
		value="${console.resultadoGeracaoSumariosParametro}">
	</h:inputHidden>
	<script type="text/javascript">
		testarResultadoGeracaoSumariosParametro();
	</script>
	<div class="ui-painel-overlay" id="painelImgProc">
		<h:graphicImage id="imgProc"
			rendered="${empty param.sumario ? true : false}"
			value="/Processando.gif"></h:graphicImage>
	</div>
	<h:panelGrid columns="2" styleClass="ui-cabecalho-cevn"
		columnClasses="ui-cabecalho-col1-cevn,ui-cabecalho-col2-cevn">
		<h:panelGroup>
			<h:panelGrid columns="1" style="width: 100%;"
				columnClasses="ui-logo-col1-cevn">
				<h:panelGroup>
					<h:outputText styleClass="ui-logo-texto-cevn"
						value="CONFIGURADOR EVERNOTE" />
				</h:panelGroup>
				<h:panelGroup>
					<h:graphicImage styleClass="ui-logo-img-cevn" value="/Evernote.jpg" />
				</h:panelGroup>
			</h:panelGrid>
		</h:panelGroup>
		<h:panelGroup rendered="${empty param.sumario ? true : false}">
			<h:form id="console">
				<h:panelGrid id="tab_input" columns="4" styleClass="ui-opcoes-cevn"
					columnClasses="ui-opcoes-col-cevn,ui-opcoes-col-cevn,ui-opcoes-col-cevn,ui-opcoes-col-cevn">
					<f:facet name="header">
						<h:panelGroup>
							<h:panelGrid styleClass="ui-opcoes-cab-cevn" columns="5"
								columnClasses="ui-opcoes-cab-col-cevn,ui-opcoes-cab-col-cevn,ui-opcoes-cab-col-cevn,ui-opcoes-cab-col-cevn,ui-opcoes-cab-col-cevn">
								<h:panelGroup>
									<h:selectBooleanCheckbox selected="true" onclick="trocarCheckBoxes(this)"
										id="chk" />
									Todos
								</h:panelGroup>
								<h:panelGroup>
									<h:selectBooleanCheckbox onclick="trocarCheckBoxes(this)"
										id="chkSumCol" />
									Sumários coletivos
								</h:panelGroup>
								<h:panelGroup>
									<h:selectBooleanCheckbox onclick="trocarCheckBoxes(this)"
										id="chkSumInd" />
									Sumários individuais
								</h:panelGroup>
								<h:panelGroup>
									<h:selectBooleanCheckbox onclick="trocarCheckBoxes(this)"
										id="chkValCol" />
									Validações coletivas
								</h:panelGroup>
								<h:panelGroup>
									<h:selectBooleanCheckbox onclick="trocarCheckBoxes(this)"
										id="chkValInd" />
									Validações individuais
								</h:panelGroup>
							</h:panelGrid>
						</h:panelGroup>
					</f:facet>
					<h:panelGroup styleClass="ui-opcoes-cab-texto-cevn">
						<h:selectBooleanCheckbox
							onclick="trocarCheckBoxes(this,'Interesses')" id="chkInteresses" />
							Interesses
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-cab-texto-cevn">
						<h:selectBooleanCheckbox
							onclick="trocarCheckBoxes(this,'Projetos')" id="chkProjetos" />
							Projetos
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-cab-texto-cevn">
						<h:selectBooleanCheckbox onclick="trocarCheckBoxes(this,'Acoes')"
							id="chkAcoes" />
							Ações
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-cab-texto-cevn">
						<h:selectBooleanCheckbox
							onclick="trocarCheckBoxes(this,'Referencias')"
							id="chkReferencias" />
							Referências
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-texto-cevn">
						<div>
							<h:selectBooleanCheckbox id="chkSumColInteresses"
								value="#{console.gerarSumColInteresses}" />
							Sumários coletivos
						</div>
						<div>
							<h:selectBooleanCheckbox id="chkSumIndInteresses"
								value="#{console.gerarSumIndInteresses}" />
							Sumários individuais
						</div>
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-texto-cevn">
						<div>
							<h:selectBooleanCheckbox id="chkSumColProjetos"
								value="#{console.gerarSumColProjetos}" />
							Sumários coletivos
						</div>
						<div>
							<h:selectBooleanCheckbox id="chkSumIndProjetos"
								value="#{console.gerarSumIndProjetos}" />
							Sumários individuais
						</div>
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-texto-cevn">
						<h:selectBooleanCheckbox id="chkSumColAcoes"
							value="#{console.gerarSumColAcoes}" />
							Sumários coletivos
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-texto-cevn">
						<h:selectBooleanCheckbox id="chkSumColReferencias"
							value="#{console.gerarSumColReferencias}" />
							Sumários coletivos
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-texto-cevn" />
					<h:panelGroup styleClass="ui-opcoes-texto-cevn">
						<div>
							<h:selectBooleanCheckbox id="chkValColProjetos"
								value="#{console.gerarValColProjetos}" />
							Validações coletivas
						</div>
						<div>
							<h:selectBooleanCheckbox id="chkValIndProjetos"
								value="#{console.gerarValIndProjetos}" />
							Validações individuais
						</div>
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-texto-cevn">
						<h:selectBooleanCheckbox id="chkValColAcoes"
							value="#{console.gerarValColAcoes}" />
							Validações coletivas
					</h:panelGroup>
					<h:panelGroup styleClass="ui-opcoes-texto-cevn">
						<h:selectBooleanCheckbox id="chkValColReferencias"
							value="#{console.gerarValColReferencias}" />
							Validações coletivas
					</h:panelGroup>
					<f:facet name="footer">
						<div class="ui-opcoes-rod-cevn">
							<p:commandButton id="btGerar" value="Gerar Sumários"
								styleClass="ui-opcoes-botao-cevn"
								onstart="ligarAtualizadorTela()" async="true" process="@form"
								actionListener="#{console.gerarSumarios}"
								update="paineis:console">
								<f:param name="estrategiaCarregamento" value="2" />
							</p:commandButton>
						</div>
					</f:facet>
				</h:panelGrid>
			</h:form>
		<script type="text/javascript">
			trocarCheckBoxes(document.getElementById('console:chk'));
		</script>
		</h:panelGroup>
	</h:panelGrid>
	<br />
	<h:form id="atualizador"
		rendered="${empty param.sumario ? true : false}">
		<p:poll id="atualizadorTela" widgetVar="atualizadorTela"
			oncomplete="desligarAtualizadorTela()" autoStart="true" async="true"
			immediate="true" interval="3" process="@form"
			update="paineis:console paineis:sumarios paineis:interesses paineis:projetos paineis:acoes paineis:referencias paineis:logs" />
	</h:form>
	<p:tabView styleClass="ui-paineis" id="paineis">
		<p:tab title="Console">
			<h:form id="console">
				<p:growl widgetVar="mensagem" showDetail="true" />
				<h:inputHidden id="processando" readonly="true"
					value="${console.processando}" />
				<h:inputHidden id="resultado" readonly="true"
					value="${console.resultadoProcessamento}" />
				<h:panelGrid columns="3"
					columnClasses="ui-saida-tempo-cevn,ui-saida-limpar-cevn,ui-saida-log-cevn"
					style="width: 100%;">
					<h:panelGroup style="width: 100%;">Fila: <h:outputText
							id="tamanhoFila" value="#{console.tamanhoFilaServidor}" /> / Duração: <h:outputText
							id="tempo" value="#{console.tempoProcessamento}" />
					</h:panelGroup>
					<h:panelGroup style="width: 100%;">
						<p:commandButton rendered="${empty param.sumario ? true : false}"
							id="btLimpar" value="Limpar" styleClass="ui-saida-botao-cevn"
							onstart="mostrarImagemProcessando(true)"
							oncomplete="mostrarImagemProcessando(false)" async="true"
							process="@this" actionListener="#{console.limparConsole}"
							update="paineis:console">
							<f:param name="estrategiaCarregamento" value="5" />
						</p:commandButton>
					</h:panelGroup>
					<h:panelGroup style="width: 100%;">
						<h:outputLink class="ui-link-cevn-2" value="#{console.urlLog}">Log da sessão</h:outputLink>
					</h:panelGroup>
					<f:facet name="footer">
						<h:panelGroup>
							<p:tabView id="saida">
								<p:tab title="Saída"
									rendered="${empty param.sumario ? true : false}">
									<div id="paineis:console:saida:janela" class="ui-saida-cevn">
										<pre>
											<h:outputText id="padrao" value="#{console.saidaPadrao}" />
										</pre>
									</div>
									<script type="text/javascript">
										atualizarPosicaoJanela();
									</script>
								</p:tab>
								<p:tab title="Erro"
									rendered="${not empty console.saidaErro ? true : false}">
									<div class="ui-saida-cevn">
										<pre>
											<h:outputText id="erro" value="#{console.saidaErro}" />
										</pre>
									</div>
								</p:tab>
							</p:tabView>
						</h:panelGroup>
					</f:facet>
				</h:panelGrid>
			</h:form>
		</p:tab>
		<p:tab id="tab-sumarios" title="Sumários"
			rendered="${empty param.sumario ? true : false}">
			<h:form id="sumarios">
				<h:inputHidden id="titulo" value="${console.tituloSumarios}" />
				<script type="text/javascript">
					atualizarTituloPainel('sumarios');
				</script>
				<div class="ui-painel-cab-cevn">
					<p:commandButton id="btRecarregarSums" value="Recarregar"
						onstart="ligarAtualizadorTela()" async="true" process="@this"
						update="paineis:console">
						<f:param name="estrategiaCarregamento" value="1" />
					</p:commandButton>
					<p:commandButton id="btVerificarConsistenciaSums"
						value="Verificar Consistência" onstart="ligarAtualizadorTela()"
						async="true" process="@this"
						actionListener="#{console.verificarConsistenciaSumarios}"
						update="paineis:console">
						<f:param name="estrategiaCarregamento" value="2" />
					</p:commandButton>
					<p:commandButton id="btExcluirSums" value="Excluir Todos"
						onstart="ligarAtualizadorTela()" async="true" process="@this"
						actionListener="#{console.excluirSumarios}"
						update="paineis:console">
						<f:param name="estrategiaCarregamento" value="2" />
					</p:commandButton>
				</div>
				<p:dataTable id="tabela" var="sum" value="#{console.sumarios}"
					filteredValue="#{console.sumariosFiltrado}" rows="10"
					paginator="true" emptyMessage="Lista de sumários vazia"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,50,100,500,1000">
					<p:column filterBy="#{sum.dataCriacaoFmt}"
						filterMatchMode="contains" headerText="Criação"
						style="width: 16%;" sortBy="#{sum.dataCriacao}">
						<h:outputText value="#{sum.dataCriacaoFmt}" />
					</p:column>
					<p:column filterBy="#{sum.dataAlteracaoFmt}"
						filterMatchMode="contains" headerText="Alteração"
						style="width: 16%;" sortBy="#{sum.dataAlteracao}">
						<h:outputText value="#{sum.dataAlteracaoFmt}" />
					</p:column>
					<p:column filterBy="#{sum.nome}" filterMatchMode="contains"
						headerText="Nome" style="width: 34%;" sortBy="#{sum.nome}">
						<h:outputText value="#{sum.nome}" />
					</p:column>
					<p:column headerText="Id" style="width: 34%;" sortBy="#{sum.id}">
						<h:outputLink value="#{sum.URL}" styleClass="ui-link-cevn-1">
							<h:outputText value="#{sum.id}" />
						</h:outputLink>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:tab>
		<p:tab id="tab-interesses" title="Interesses"
			rendered="${empty param.sumario ? true : false}">
			<h:form id="interesses">
				<h:inputHidden id="titulo" value="${console.tituloInteresses}" />
				<script type="text/javascript">
					atualizarTituloPainel('interesses');
				</script>
				<div class="ui-painel-cab-cevn">
					<p:commandButton id="btRecarregarIntrs" value="Recarregar"
						onstart="ligarAtualizadorTela()" async="true" process="@this"
						update="paineis:console">
						<f:param name="estrategiaCarregamento" value="1" />
					</p:commandButton>
				</div>
				<p:dataTable id="tabela" var="intr" value="#{console.interesses}"
					filteredValue="#{console.interessesFiltrado}" rows="10"
					paginator="true" emptyMessage="Lista de interesses vazia"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,50,100,500,1000">
					<p:column filterBy="#{intr.nome}" filterMatchMode="contains"
						headerText="Nome" style="width: 60%;" sortBy="#{intr.nome}">
						<h:outputText value="#{intr.nome}" />
					</p:column>
					<p:column headerText="Id" style="width: 40%;" sortBy="#{intr.id}">
						<h:outputLink value="#{intr.sumario.URL}"
							styleClass="ui-link-cevn-1">
							<h:outputText value="#{intr.id}" />
						</h:outputLink>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:tab>
		<p:tab id="tab-projetos" title="Projetos"
			rendered="${empty param.sumario ? true : false}">
			<h:form id="projetos">
				<h:inputHidden id="titulo" value="${console.tituloProjetos}" />
				<script type="text/javascript">
					atualizarTituloPainel('projetos');
				</script>
				<div class="ui-painel-cab-cevn">
					<p:commandButton id="btRecarregarProjs" value="Recarregar"
						onstart="ligarAtualizadorTela()" async="true" process="@this"
						update="paineis:console">
						<f:param name="estrategiaCarregamento" value="1" />
					</p:commandButton>
				</div>
				<p:dataTable id="tabela" var="proj" value="#{console.projetos}"
					filteredValue="#{console.projetosFiltrado}" rows="10"
					paginator="true" emptyMessage="Lista de projetos vazia"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,50,100,500,1000">
					<p:column filterBy="#{proj.nome}" filterMatchMode="contains"
						headerText="Nome" style="width: 60%;" sortBy="#{proj.nome}">
						<h:outputText value="#{proj.nome}" />
					</p:column>
					<p:column headerText="Id" style="width: 40%;" sortBy="#{proj.id}">
						<h:outputLink value="#{proj.URL}" styleClass="ui-link-cevn-1">
							<h:outputText value="#{proj.id}" />
						</h:outputLink>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:tab>
		<p:tab id="tab-acoes" title="Ações"
			rendered="${empty param.sumario ? true : false}">
			<h:form id="acoes">
				<h:inputHidden id="titulo" value="${console.tituloAcoes}" />
				<script type="text/javascript">
					atualizarTituloPainel('acoes');
				</script>
				<div class="ui-painel-cab-cevn">
					<p:commandButton id="btRecarregarAcoes" value="Recarregar"
						onstart="ligarAtualizadorTela()" async="true" process="@this"
						update="paineis:console">
						<f:param name="estrategiaCarregamento" value="1" />
					</p:commandButton>
				</div>
				<p:dataTable id="tabela" var="acao" value="#{console.acoes}"
					filteredValue="#{console.acoesFiltrado}" rows="10" paginator="true"
					emptyMessage="Lista de ações vazia"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,50,100,500,1000">
					<p:column filterBy="#{acao.nome}" filterMatchMode="contains"
						headerText="Nome" style="width: 60%;" sortBy="#{acao.nome}">
						<h:outputText value="#{acao.nome}" />
					</p:column>
					<p:column headerText="Id" style="width: 40%;" sortBy="#{acao.id}">
						<h:outputLink value="#{acao.URL}" styleClass="ui-link-cevn-1">
							<h:outputText value="#{acao.id}" />
						</h:outputLink>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:tab>
		<p:tab id="tab-referencias" title="Referências"
			rendered="${empty param.sumario ? true : false}">
			<h:form id="referencias">
				<h:inputHidden id="titulo" value="${console.tituloReferencias}" />
				<script type="text/javascript">
					atualizarTituloPainel('referencias');
				</script>
				<div class="ui-painel-cab-cevn">
					<p:commandButton id="btRecarregarRefs" value="Recarregar"
						onstart="ligarAtualizadorTela()" async="true" process="@this"
						update="paineis:console">
						<f:param name="estrategiaCarregamento" value="1" />
					</p:commandButton>
				</div>
				<p:dataTable id="tabela" var="ref" value="#{console.referencias}"
					filteredValue="#{console.referenciasFiltrado}" rows="10"
					paginator="true" emptyMessage="Lista de referências vazia"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,50,100,500,1000">
					<p:column filterBy="#{ref.nome}" filterMatchMode="contains"
						headerText="Nome" style="width: 60%;" sortBy="#{ref.nome}">
						<h:outputText value="#{ref.nome}" />
					</p:column>
					<p:column headerText="Id" style="width: 40%;" sortBy="#{ref.id}">
						<h:outputLink value="#{ref.URL}" styleClass="ui-link-cevn-1">
							<h:outputText value="#{ref.id}" />
						</h:outputLink>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:tab>
		<p:tab title="Configurador"
			rendered="${empty param.sumario ? true : false}">
			<h:form id="logs">
				<div class="ui-painel-cab-cevn">
					<p:commandButton id="btExcluirLogs" value="Excluir Logs Antigos"
						onstart="ligarAtualizadorTela()" async="true" process="@this"
						actionListener="#{console.excluirLogs}" update="paineis:console">
						<f:param name="estrategiaCarregamento" value="2" />
					</p:commandButton>
				</div>
				<p:dataTable id="tabela" var="log" value="#{console.logs}" rows="10"
					paginator="true" emptyMessage="Lista de logs vazia"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,50,100,500,1000">
					<p:column filterBy="#{log.dataAlteracaoFmt}"
						filterMatchMode="contains" headerText="Alteração"
						style="width: 16%;" sortBy="#{log.dataAlteracao}">
						<h:outputText value="#{log.dataAlteracaoFmt}" />
					</p:column>
					<p:column headerText="Nome" style="width: 44%;"
						sortBy="#{log.nome}">
						<h:outputText value="#{log.nome}" />
					</p:column>
					<p:column headerText="Id" style="width: 44%;" sortBy="#{log.id}">
						<h:outputLink value="#{log.URL}" styleClass="ui-link-cevn-1">
							<h:outputText value="#{log.id}" />
						</h:outputLink>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:tab>
	</p:tabView>
</h:body>
</html>